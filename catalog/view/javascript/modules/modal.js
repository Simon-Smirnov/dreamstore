export default class {
    modals = {
        orderCall: '<h2 class="modalwindow_content-title">ЗАКАЗАТЬ ЗВОНОК</h2><p class="modalwindow_content-underTitle">Укажите контактный номер телефона и наш оператор свяжется с вами в ближайшее время!</p><form class="modalwindow_content-form mailForm" data-page="headerZakazatZvonok"><div class="modalwindow_content-input name" data-valid="name"><input class="name" name="name" type="text" placeholder="Ваше имя"><div class="error"></div></div><div class="modalwindow_content-input phone" data-valid="phone"><input required id="phone" class="phone" name="phone" pattern="+[0-9]{3}-[0-9]{2}-[0-9]{3}" type="tel" placeholder="Номер телефона"><laber for="phone"><span class="red_star">*</span></label><div class="error"></div></div><input name="themename" class="themename" type="hidden" value="Заказать обратный звонок"><button class="btn btn-primary button" style="margin-bottom: 10px;">Отправить</button><div class="agree" data-valid="agree"><div class="modalwindow_content-agree"><input class="agree" type="checkbox" name="agree"><label class="info">Я согласен на обработку <a class="link" href="/documents/confidenciality.pdf" target="_blanket">персональных данных</a>.</label></div><div class="error"></div></div></form>',
        submitApplication: '<h2 class="modalwindow_content-title">ОСТАВИТЬ ЗАЯВКУ<br>на выкуп оборудования</h2><p class="modalwindow_content-underTitle">Укажите контактный номер телефона и наш оператор свяжется с вами в ближайшее время!</p><form class="modalwindow_content-form mailForm" data-page="submitApplication"><div class="modalwindow_content-input name" data-valid="name"><input class="name" name="name" type="text" placeholder="Ваше имя"><div class="error"></div></div><div class="modalwindow_content-input phone" data-valid="phone"><input required id="phone" class="phone" name="phone" pattern="+[0-9]{3}-[0-9]{2}-[0-9]{3}" type="tel" placeholder="Номер телефона"><laber for="phone"><span class="red_star">*</span></label><div class="error"></div></div><input name="themename" class="themename" type="hidden" value="Оставить заявку на выкуп оборудования"><button  class="btn btn-primary button" style="margin-bottom: 10px;">Отправить</button><div class="agree" data-valid="agree"><div class="modalwindow_content-agree"><input class="agree" type="checkbox" name="agree"><label class="info">Я согласен на обработку <a class="link" href="/documents/confidenciality.pdf" target="_blanket">персональных данных</a>.</label></div><div class="error"></div></div></form>',
        submitNerj: '<h2 class="modalwindow_content-title">ОСТАВИТЬ ЗАЯВКУ<br>на оборудование из нержавеющей стали</h2><p class="modalwindow_content-underTitle">Укажите контактный номер телефона и наш оператор свяжется с вами в ближайшее время!</p><form class="modalwindow_content-form mailForm" data-page="submitNerj"><div class="modalwindow_content-input name" data-valid="name"><input class="name" name="name" type="text" placeholder="Ваше имя"><div class="error"></div></div><div class="modalwindow_content-input phone" data-valid="phone"><input required id="phone" class="phone" name="phone" pattern="+[0-9]{3}-[0-9]{2}-[0-9]{3}" type="tel" placeholder="Номер телефона"><laber for="phone"><span class="red_star">*</span></label><div class="error"></div></div><input name="themename" class="themename" type="hidden" value="Оставить заявку на оборудование из нержавеющей стали"><button  class="btn btn-primary button" style="margin-bottom: 10px;">Отправить</button><div class="agree" data-valid="agree"><div class="modalwindow_content-agree"><input class="agree" type="checkbox" name="agree"><label class="info">Я согласен на обработку <a class="link" href="/documents/confidenciality.pdf" target="_blanket">персональных данных</a>.</label></div><div class="error"></div></div></form>',
        consultationEquipmentBuyback: '<h2 class="modalwindow_content-title">ПРОКОНСУЛЬТИРОВАТЬСЯ<br>на выкуп оборудования</h2><p class="modalwindow_content-underTitle">Укажите контактный номер телефона и наш оператор свяжется с вами в ближайшее время!</p><form class="modalwindow_content-form mailForm" data-page="consultationEquipmentBuyback"><div class="modalwindow_content-input name" data-valid="name"><input class="name" name="name" type="text" placeholder="Ваше имя"><div class="error"></div></div><div class="modalwindow_content-input phone" data-valid="phone"><input required id="phone" class="phone" name="phone" pattern="+[0-9]{3}-[0-9]{2}-[0-9]{3}" type="tel" placeholder="Номер телефона"><laber for="phone"><span class="red_star">*</span></label><div class="error"></div></div><input name="themename" class="themename" type="hidden" value="Проконсультироваться по выкупу оборудования"><button  class="btn btn-primary button" style="margin-bottom: 10px;">Отправить</button><div class="agree" data-valid="agree"><div class="modalwindow_content-agree"><input class="agree" type="checkbox" name="agree"><label class="info">Я согласен на обработку <a class="link" href="/documents/confidenciality.pdf" target="_blanket">персональных данных</a>.</label></div><div class="error"></div></div></form>',
        consultationNerj: '<h2 class="modalwindow_content-title">ПРОКОНСУЛЬТИРОВАТЬСЯ<br>по оборудованию из нержавеющей стали</h2><p class="modalwindow_content-underTitle">Укажите контактный номер телефона и наш оператор свяжется с вами в ближайшее время!</p><form class="modalwindow_content-form mailForm" data-page="consultationNerj"><div class="modalwindow_content-input name" data-valid="name"><input class="name" name="name" type="text" placeholder="Ваше имя"><div class="error"></div></div><div class="modalwindow_content-input phone" data-valid="phone"><input required id="phone" class="phone" name="phone" pattern="+[0-9]{3}-[0-9]{2}-[0-9]{3}" type="tel" placeholder="Номер телефона"><laber for="phone"><span class="red_star">*</span></label><div class="error"></div></div><input name="themename" class="themename" type="hidden" value="Проконсультироваться по оборудованию из нержавеющей стали"><button  class="btn btn-primary button" style="margin-bottom: 10px;">Отправить</button><div class="agree" data-valid="agree"><div class="modalwindow_content-agree"><input class="agree" type="checkbox" name="agree"><label class="info">Я согласен на обработку <a class="link" href="/documents/confidenciality.pdf" target="_blanket">персональных данных</a>.</label></div><div class="error"></div></div></form>',
        // newsubmitApplication: '<h2 class="modalwindow_content-title">ОСТАВИТЬ ЗАЯВКУ<br>на оценку стоимости оборудования</h2><p class="modalwindow_content-underTitle">Укажите контактный номер телефона и наш оператор свяжется с вами в ближайшее время!</p><form class="modalwindow_content-form mailForm"><div class="modalwindow_content-input name" data-valid="name"><input class="name" name="name" type="text" placeholder="Ваше имя"><div class="error"></div></div><div class="modalwindow_content-input phone" data-valid="phone"><input class="phone" name="phone" type="text" placeholder="Номер телефона"><div class="error"></div></div><input name="themename" class="themename" type="hidden" value="Оставить заявку на выкуп оборудования"><div class="download_image"><img src="/image/newblok/icon5.png"><label class="file__btn photo" for="file_input" name="photo">Загрузить файл</label>     <div class="photo"><input id="file_input" class="photo" type="file" name="photo" placeholder="photo адрес"><div class="error"></div></div><button class="btn btn-primary button" style="margin-bottom: 10px;">Отправить</button><div class="agree" data-valid="agree"><div class="modalwindow_content-agree"><input class="agree" type="checkbox" name="agree"><label class="info">Я согласен на обработку<a class="link" href="/documents/confidenciality.pdf" target="_blanket">персональных данных</a>.</label></div><div class="error"></div></div></form>',
        newsubmitApplication: '<h2 class="modalwindow_content-title">ОСТАВИТЬ ЗАЯВКУ<br>на оценку стоимости оборудования</h2><p class="modalwindow_content-underTitle">Укажите контактный номер телефона и наш оператор свяжется с вами в ближайшее время!</p><form class="modalwindow_content-form mailForm" data-page="newsubmitApplication"><div class="modalwindow_content-input name" data-valid="name"><input class="name" name="name" type="text" placeholder="Ваше имя"><div class="error"></div></div><div class="modalwindow_content-input phone" data-valid="phone"><input required id="phone" class="phone" pattern="+[0-9]{3}-[0-9]{2}-[0-9]{3}" name="phone" type="tel" placeholder="Номер телефона"><laber for="phone"><span class="red_star">*</span></label><div class="error"></div></div><div class="photo"><label class="photo_label" for="file_input"><img src="/image/newblok/icon5.png">Загрузить изображение<input id="file_input" class="photo file__btn" type="file" name="photo" placeholder="photo адрес"></label><div class="error"></div></div><input name="themename" class="themename" type="hidden" value="Оставить заявку на оценку стоимости оборудования"><button class="btn btn-primary button" style="margin-bottom: 10px;">Отправить</button><div class="agree" data-valid="agree"><div class="modalwindow_content-agree"><input class="agree" type="checkbox" name="agree"><label class="info">Я согласен на обработку<a class="link" href="/documents/confidenciality.pdf" target="_blanket">персональных данных</a>.</label></div><div class="error"></div></div></form>',
    };

   modal = document.querySelector('.modalwindow');

   constructor(selector) {
        this.btnClose = this.modal.querySelector('.modal-menu_content-close');
        this.widthScroll = window.innerWidth - document.documentElement.clientWidth;

        let listBtnModalOpen = document.querySelectorAll(selector);
        listBtnModalOpen.forEach((btn) => {
            btn.addEventListener('click',(e) => {
                let modalInner = this.modal.querySelector('.modalwindow_inner');
                let modalType = btn.dataset.modal;
                
                //let widthScroll 
                if(this.modals[modalType] != undefined) {
                    modalInner.innerHTML = this.modals[modalType];
                    this.modal.classList.add('open');
                    document.body.style.paddingRight = this.widthScroll + "px";
                    document.body.style.overflowY = 'hidden';
                    this.modal.animate(
                        [{top: '-124em', backgroundColor: '#00000000'},{top: '0', backgroundColor: '#0000007a'},],
                        {duration: 300,iterations: 1,}
                    );
                }
            });
        });


        this.btnClose.addEventListener('click', () => {
            this.closeModal();
        });

        this.modal.addEventListener('click', (e) => {
            if(e.target.classList.contains('modalwindow')) {
                this.closeModal();
            }
        });
    };





    closeModal() {
        let finishAnimate = this.modal.animate(
            [{top: '0', backgroundColor: '#0000007a'},{top: '-124em', backgroundColor: '#00000000'},],
            {duration: 300,iterations: 1,}
        );
        finishAnimate.addEventListener('finish', () => {
            this.modal.classList.remove('open');
            document.body.style.paddingRight = "0";
            document.body.style.overflowY = '';
        });
    }
}



